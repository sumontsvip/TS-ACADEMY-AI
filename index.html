<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TS ACADEMY AI</title>

<style>
html,body{
  margin:0;
  width:100%;
  height:100%;
  background:#e9eef3;
  font-family:Arial;
  overflow:hidden;
}

.header{
  position:absolute;
  top:15px;
  right:20px;
  font-weight:bold;
  letter-spacing:2px;
}

.wrapper{
  display:flex;
  width:100%;
  height:100%;
}

.box{
  flex:1;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  border-right:1px solid #bbb;
}

.box:last-child{border-right:none}

.symbol{
  font-size:22px;
  margin-bottom:10px;
}

.price{
  font-size:28px;
  margin-bottom:10px;
}

.status{
  font-size:22px;
  font-weight:bold;
}

.buy{color:green}
.sell{color:red}
.wait{color:orange}
</style>
</head>

<body>

<div class="header">TS ACADEMY AI</div>

<div class="wrapper">
  <div class="box">
    <div class="symbol">ETHUSDT</div>
    <div class="price" id="ethPrice">--</div>
    <div class="status wait" id="ethStatus">WAITING</div>
  </div>

  <div class="box">
    <div class="symbol">BTCUSDT</div>
    <div class="price" id="btcPrice">--</div>
    <div class="status wait" id="btcStatus">WAITING</div>
  </div>
</div>

<script>
function fibSignal(price, high, low){
  let fib05 = low + (high-low)*0.5;
  let aggressive = (high-low)/low > 0.01;
  if(!aggressive) return "WAITING";
  return price > fib05 ? "BUY" : "SELL";
}
function cls(s){return s=="BUY"?"buy":s=="SELL"?"sell":"wait"}

function start(symbol, priceEl, statusEl, high, low){
  let ws = new WebSocket(
    "wss://stream.binance.com:9443/ws/"+symbol.toLowerCase()+"@trade"
  );
  ws.onmessage = e =>{
    let p = parseFloat(JSON.parse(e.data).p);
    priceEl.innerText = p.toFixed(2);
    let s = fibSignal(p,high,low);
    statusEl.innerText = s;
    statusEl.className = "status "+cls(s);
  }
}

start("ETHUSDT",ethPrice,ethStatus,2200,1800);
start("BTCUSDT",btcPrice,btcStatus,72000,65000);
</script>

</body>
</html>
